dist: trusty
sudo: required
jdk: oraclejdk8

services:
  - docker

script:
  - bash test/travis-bin/run-tests.sh
  - bash test/travis-bin/sonar.sh
  
cache:
  directories:
    – $HOME/.m2
    – $HOME/.sonar/cache

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/8e145155fbaaf37cffea
    on_success: change
    on_failure: always
    on_start: never
  email: false
  slack:
    secure: lcjjpIGmtjOac4SkeMg6rMcUu+3wee+xgEsBC6a1sYCWGKTxs6x22ezCHwBKbjZ9r14wm+2zOfYuBxWtvxkfduB8WVHH/U+2l5Fto37BxFvWSBqBJy+6BzMz+3gH9JvpHHOjuiqotDX8IQwsQhCgO2MIu+clU3F/T2KT9QtZAFzGnD00vjAkPH+9usxTKfFAmKNwETbTCP3cf3s0KOeX8q3YVW7yYV2Rx3lKT6LDtwzRoO1Fuhp6XNgTkKSWnrbkGsr0terSinkwHj/77cgyrnAVKKUo21Oorz9w6lBTOhvj32H0cShta0zk97+E3bhdhCg9hZtF7oqA+u2thLEWRX2luWlN45X6+kpcrEJYg4Zlhd+ABJyk9a68GwP9H9Kqa8+BxTk4tJzf9w/jgKhFcyM2HMBpD97aGqtQMUKXV5lwQPgutL7eGg8irGKwaidWKT9yWRthAQc0xRiv9/zc6Hwtb9RuRi6KZeyKrLFmDT2PP4Y5NhkDV6XFMaxllx0MSaYC4skl59gbrMl3FZWv8xgJUNHHyxfxheg9Apyf1MXGZOqsIlmqky87pO6csqVL1N5MsKrR12EEzBhW+71VnEPph5vNtTU6gm7sIHCkMPUdCbPNZtBnoK+1SF/T8PehgTPIkakFxmqMNy/ApEFHlUT3/5KvAKs37k481QROGV8=
    on_success: never
    on_failure: always
    on_start: never

addons:
  sonarqube:
    branches:
      - master
      - rc.x
    token:
      secure: oVyLWrQVAULcGqE2bcjKLyxb/i7Kos8naMzQrzj4GFeanaatPsoyYaTdBAqPyFC3hHhz9nfrzmg5zUF5STpNIkPrkBjlVgsP1KWW3w0N0jRVWwOedtPA71c/T/SRs0fw/DqnXskZNEanIpCzG6anRJsQ8/Wtl5sw5wqMibPgEeXn3/HqrBdrFYrg39tC3wmZ4lQ8pbIXFMdzDD6PUs5hfbW1DyvP3UPQag009hSXZDyA8lgUJ9yv3q3w3FxXXMuogK0PVxaEtRxWKITk1XR5GEZQu60VG/ZqWYkVHIXJDUzlEfZ1CAa+5DJ7mPozh50oE7vGCvfMseznLE8DQQAn+zj4zBZKtT4JBtsGW8rhn6+4v/aPdWj+7vqYmFO5K5LyaLDC04FTlD9aqNwXVut6QKfVqj41G6+qWIQXX4K2dz4/tKnejD3gY7hnmLJhY2WUtE3euqMFIrWcj1sIt2aXiP7b20UkuFGxqPu14ma5Y1ILDdPwdsMpWm4JLQEJm75qISCbfM1tlrLubH5aTrMGCpxKTeZVp0qOHUx20kkE5e2/XkLgRdahLYXXT2DsQzZ0Fb2L+jS9tHyE1R7Rjl6v4A8CzMEG99NWd5mST/XS+Tk2v9+oe7TvTNEkY5+bWEwHcs3WqyDd/ecpmWfxH/TzDE3fG0g2E0p+F3d8eiPJEgQ=
    github_token:
      secure: s3a+I97qGfmXKZyAz2B4iKn9XxoqV6HgCO6O4l+SHHbBkUJS2hOTKlokNjbWMiowtUDfVX6v4ZKvTyqDm0zIgVH/upIEt7yhuyu+N+loZ4R/zPYBrQ1IsWWCBJNvumMYjnfKbldrU7jWknA8yavPFrmmNX1C90IPbXNCM/1QOkPYuraFf+fHaOZSKOV7VNgkryukJMOPLtEuL+oEQ1w4l8KJcUm20EaJaYhtBBpNAs2h4JglUOJMzKfrgLicdPTMJzIDekqGfyBhShos4AxWHTm7o8NlnTYQRJtyhTAetHjcAUP6PX4VoIbLUAOmTtHZsli5kzAsF0eyKqggPmIXfYtvjGOGCilAHhvvVHuenXepS9gDerAn5iK7XvZg02C926n+Wshv6ZdqPp2rNvnm4YH+PORtH46X6rE3qFWyL2u1WXrqWU0nBB5gOVMLoY+jQUOmcubLxX67gUZwRGQzAUHeOgLXkA6nDkKgGGh9eFq5rMIQAuJyLML/uHIxfCz2LpX+zT+kv0ah6QNmOhiQ/Hf4rKcy013c1qOYXIJPAYB7VOrmY6q/gnxK3/9yKQZv8TU+/y8yfPYe7zxTcUZl91FHdUi/1lUESUXBfWzQbS7tww5Uo0+jThlg1qtfM2tYUHlAfgEYsUREojKG3ObaE7JYYi2HLkhqeEfa31W2EnE=

